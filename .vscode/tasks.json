{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "MASLIVE: Commit admin wizard",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git add app/lib/admin/admin_main_dashboard.dart app/lib/admin/create_circuit_assistant_page.dart && git commit -m \"admin: ajout Assistant Wizard + cleanup wizard circuit\"",
      "problemMatcher": [],
      "group": {
        "kind": "build"
      }
    },
    {
      "label": "MASLIVE: Flutter pub get",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter pub get",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Flutter build web (verbose)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter build web --release -v",
      "problemMatcher": [],
      "isBackground": false
    },
    {
      "label": "MASLIVE: Flutter build web (release)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter build web --release",
      "problemMatcher": [],
      "isBackground": false
    },
    {
      "label": "MASLIVE: Firebase deploy",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && firebase deploy --only firestore:rules,storage,functions",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Deploy Firestore Rules",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && firebase deploy --only firestore:rules",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Build Web & Deploy Hosting + Firestore Rules",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter pub get && TOKEN=${MAPBOX_ACCESS_TOKEN:-${MAPBOX_PUBLIC_TOKEN:-${MAPBOX_TOKEN:-}}} && if [ -n \"$TOKEN\" ]; then flutter build web --release --dart-define=MAPBOX_ACCESS_TOKEN=\"$TOKEN\"; else flutter build web --release; fi && cd .. && firebase deploy --only hosting,firestore:rules",
      "problemMatcher": [],
      "isBackground": false,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Deploy Storage Rules",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && firebase deploy --only storage",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Promote admin (s-stephane@live.fr)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/functions && node ../scripts/create_admin.js s-stephane@live.fr admin",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Promote superAdmin (s-stephane@live.fr)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/functions && node ../scripts/create_admin.js s-stephane@live.fr superAdmin",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Check/init Superadmin Articles (Firestore)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/functions && node scripts/check_or_init_superadmin_articles.js",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Setup and deploy",
      "type": "shell",
      "command": "bash /workspaces/MASLIVE/scripts/setup_deploy.sh",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Build Web & Deploy Hosting",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter pub get && TOKEN=${MAPBOX_ACCESS_TOKEN:-${MAPBOX_PUBLIC_TOKEN:-${MAPBOX_TOKEN:-}}} && if [ -n \"$TOKEN\" ]; then flutter build web --release --dart-define=MAPBOX_ACCESS_TOKEN=\"$TOKEN\"; else flutter build web --release; fi && cd .. && firebase deploy --only hosting",
      "problemMatcher": [],
      "isBackground": false
    },
    {
      "label": "MASLIVE: DÃ©ployer Hosting (1 clic)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter pub get && TOKEN=${MAPBOX_ACCESS_TOKEN:-${MAPBOX_PUBLIC_TOKEN:-${MAPBOX_TOKEN:-}}} && if [ -n \"$TOKEN\" ]; then flutter build web --release --dart-define=MAPBOX_ACCESS_TOKEN=\"$TOKEN\"; else flutter build web --release; fi && cd .. && firebase deploy --only hosting",
      "problemMatcher": [],
      "isBackground": false,
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "MASLIVE: Regenerate Splash & Deploy (Deprecated)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter build web --release && cd .. && firebase deploy --only hosting",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Flutter analyze",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter analyze",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Git add commit push",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git add app/lib/widgets/web_mapbox_gl_map.dart app/pubspec.yaml .vscode/tasks.json && git commit -m \"fix(web): mapbox ready callback interop\" && git push origin main",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Git add commit push (group tracking)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git add .vscode/tasks.json firestore.rules firestore.indexes.json functions/index.js functions/group_tracking.js GROUP_TRACKING_DELIVERABLE.md GROUP_TRACKING_SYSTEM_GUIDE.md app/pubspec.yaml app/lib/main.dart app/lib/models/group_admin.dart app/lib/models/group_tracker.dart app/lib/models/group_media.dart app/lib/models/group_product.dart app/lib/models/track_session.dart app/lib/pages/group app/lib/services/group app/lib/widgets/group_stats_bar_chart.dart && git commit -m \"feat(group): module tracking (admin/tracker) + rules/indexes\" && git push origin main",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Git commit + push (fix web bootstrap)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git add app/web/flutter_bootstrap.js && git commit -m \"fix(web): restore flutter_bootstrap.js\" && git push origin main",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Git commit + push (fix mapbox interop)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git add app/lib/widgets/web_mapbox_gl_map.dart app/pubspec.yaml .vscode/tasks.json && git commit -m \"fix(web): mapbox ready callback interop\" && git push origin main",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Git commit + push (tasks update)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git add .vscode/tasks.json && git commit -m \"chore(vscode): add utility tasks (firestore + git)\" && git push origin main",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Git commit + push (nav icons)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git add app/lib/pages/default_map_page.dart app/lib/pages/home_map_page_3d.dart app/lib/pages/home_map_page_web.dart && git commit -m \"ui(map): move language to vertical nav + parking icon asset\" && git push origin main",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: ðŸš€ Commit + Push + Build + Deploy",
      "type": "shell",
      "command": "bash /workspaces/MASLIVE/commit_push_build_deploy.sh \"feat: amÃ©lioration shop (stock, assets, admin commerce)\"",
      "problemMatcher": [],
      "isBackground": false,
      "group": {
        "kind": "build"
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Firebase deploy (hosting+functions+rules+indexes)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && firebase deploy --only hosting,functions,firestore:rules,firestore:indexes",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: ðŸš€ Commit + Push + Build + Deploy (Token Mapbox)",
      "type": "shell",
      "command": "bash /workspaces/MASLIVE/git_commit_push_build_deploy.sh \"fix: unblock splash + home V3\"",
      "problemMatcher": [],
      "isBackground": false,
      "group": {
        "kind": "build"
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Git restore home_map_page.dart",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git restore app/lib/pages/home_map_page.dart",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Setup Flutter Web devices",
      "type": "shell",
      "command": "bash /workspaces/MASLIVE/scripts/setup_flutter_web_device.sh",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Install Chromium (for Flutter web)",
      "type": "shell",
      "command": "sudo apt-get update && (sudo apt-get install -y chromium || sudo apt-get install -y chromium-browser)",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Flutter devices",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter devices",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Flutter devices (with Chromium)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && export CHROME_EXECUTABLE=\"$(command -v chromium || command -v google-chrome || command -v google-chrome-stable || command -v chromium-browser || true)\" && echo \"CHROME_EXECUTABLE=$CHROME_EXECUTABLE\" && flutter devices",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Diagnose Chromium binaries",
      "type": "shell",
      "command": "set -euo pipefail; echo 'command -v chromium:'; command -v chromium || true; echo 'command -v chromium-browser:'; command -v chromium-browser || true; echo 'command -v google-chrome:'; command -v google-chrome || true; echo 'ls -l (/usr/bin/chromium*):'; ls -l /usr/bin/chromium /usr/bin/chromium-browser 2>/dev/null || true; echo 'chromium --version:'; chromium --version 2>/dev/null || true; echo 'chromium-browser --version:'; chromium-browser --version 2>/dev/null || true",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Flutter enable web",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter config --enable-web && flutter devices",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Flutter run web-server",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter run -d web-server --web-hostname=0.0.0.0 --web-port=50505",
      "problemMatcher": [],
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Flutter run chrome",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && export CHROME_EXECUTABLE=\"$(command -v chromium || command -v google-chrome || command -v google-chrome-stable || command -v chromium-browser || true)\" && echo \"CHROME_EXECUTABLE=$CHROME_EXECUTABLE\" && flutter run -d chrome",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Flutter doctor (verbose)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter doctor -v",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    }
  ]
}
