{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "MASLIVE: Commit admin wizard",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git add app/lib/admin/admin_main_dashboard.dart app/lib/admin/create_circuit_assistant_page.dart && git commit -m \"admin: ajout Assistant Wizard + cleanup wizard circuit\"",
      "problemMatcher": [],
      "group": {
        "kind": "build"
      }
    },
    {
      "label": "MASLIVE: Flutter pub get",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter pub get",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Flutter build web (verbose)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter build web --release -v",
      "problemMatcher": [],
      "isBackground": false
    },
    {
      "label": "MASLIVE: Firebase deploy",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && firebase deploy --only firestore:rules,storage,functions",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Deploy Storage Rules",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && firebase deploy --only storage",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Promote admin (s-stephane@live.fr)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/functions && node ../scripts/create_admin.js s-stephane@live.fr admin",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Promote superAdmin (s-stephane@live.fr)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/functions && node ../scripts/create_admin.js s-stephane@live.fr superAdmin",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Setup and deploy",
      "type": "shell",
      "command": "bash /workspaces/MASLIVE/scripts/setup_deploy.sh",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Build Web & Deploy Hosting",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter pub get && TOKEN=${MAPBOX_ACCESS_TOKEN:-${MAPBOX_PUBLIC_TOKEN:-${MAPBOX_TOKEN:-}}} && if [ -n \"$TOKEN\" ]; then flutter build web --release --dart-define=MAPBOX_ACCESS_TOKEN=\"$TOKEN\"; else flutter build web --release; fi && cd .. && firebase deploy --only hosting",
      "problemMatcher": [],
      "isBackground": false
    },
    {
      "label": "MASLIVE: DÃ©ployer Hosting (1 clic)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter pub get && TOKEN=${MAPBOX_ACCESS_TOKEN:-${MAPBOX_PUBLIC_TOKEN:-${MAPBOX_TOKEN:-}}} && if [ -n \"$TOKEN\" ]; then flutter build web --release --dart-define=MAPBOX_ACCESS_TOKEN=\"$TOKEN\"; else flutter build web --release; fi && cd .. && firebase deploy --only hosting",
      "problemMatcher": [],
      "isBackground": false,
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "MASLIVE: Regenerate Splash & Deploy (Deprecated)",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter build web --release && cd .. && firebase deploy --only hosting",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Flutter analyze",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE/app && flutter analyze",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: Git add commit push",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git add . && git commit -m \"chore: connect shop routing\" && git push origin main",
      "problemMatcher": []
    },
    {
      "label": "MASLIVE: ðŸš€ Commit + Push + Build + Deploy",
      "type": "shell",
      "command": "bash /workspaces/MASLIVE/commit_push_build_deploy.sh \"feat: amÃ©lioration shop (stock, assets, admin commerce)\"",
      "problemMatcher": [],
      "isBackground": false,
      "group": {
        "kind": "build"
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: ðŸš€ Commit + Push + Build + Deploy (Token Mapbox)",
      "type": "shell",
      "command": "bash /workspaces/MASLIVE/git_commit_push_build_deploy.sh \"fix: unblock splash + home V3\"",
      "problemMatcher": [],
      "isBackground": false,
      "group": {
        "kind": "build"
      },
      "presentation": {
        "reveal": "always",
        "panel": "dedicated",
        "clear": true
      }
    },
    {
      "label": "MASLIVE: Git restore home_map_page.dart",
      "type": "shell",
      "command": "cd /workspaces/MASLIVE && git restore app/lib/pages/home_map_page.dart",
      "problemMatcher": []
    }
  ]
}
